<html data-bs-theme="dark" data-darkreader-mode="dynamic" data-darkreader-scheme="dark">

<head>

  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;1,100&amp;display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="../../../public/css/estilo.css">
  <style class="darkreader darkreader--sync" media="screen"></style>
  <link rel="stylesheet" type="text/css" href="../../../public/css/normalize.css">
  <style class="darkreader darkreader--sync" media="screen"></style>
  <link rel="icon" href="logos/logo.ico">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  <style class="darkreader darkreader--sync" media="screen"></style>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="loops_cl,Loops,sello discografico,productora de eventos,musica electrónica,tech house,techno,podcast, dj set">
  <meta name="description" content="Loops nace de la necesidad de impulsar la escena electrónica chilena en cuanto a la producción audiovisual que respalde y complemente a los Artistas. La productora concentra sus esfuerzos en la creación de contenido audiovisual, la producción de eventos electrónicos y la transmisión de estos mismos">
  <meta name="author" content="Camilo Jimenez">
  <meta name="copyright" content="Loops Chile.">
  <meta name="robots" content="index">
  <script src="https://kit.fontawesome.com/64882c21a1.js" crossorigin="anonymous"></script>
  <title>Eventos-Loops</title>
</head>

<body cz-shortcut-listen="true">


  <header>

  </header>
  <!-- <iframe style="border-radius:12px"
    src="https://open.spotify.com/embed/artist/4FSHCrSzZlOrwOMmEInVwf?utm_source=generator" width="100%" height="352"
    frameBorder="0" allowfullscreen=""
    allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy">
  </iframe> -->

  <div>

    <div class="my-fixed-item ">
      <img class="im" src="2K_Fest_Announcement.png" alt="" width="100%" height="75%">
    </div>
    <br>
    <a href="show_ticket.html" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#ModalManagerEvent">Crear Nuevo ERvento</a>
    <div class="container">
      <div class="row justify-content-center align-items-center g-2">

        <div class="col">
          <div class="card border-primary" style="width: 18rem">
            <span class="d-inline-block" tabindex="0" data-bs-sanitize="false" data-bs-html="true" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="<p class='card-text'>ESPACIO RIESGO - AV el Salto 5.000</p>">
              <img src="2K_Fest_Announcement.png" class="card-img-top" alt="..." height="300">
            </span>

            <div class="card-body">
              <h5 style="background-color: rgb(51, 39, 117); --darkreader-inline-bgcolor: #291f5e;" class="card-title" data-darkreader-inline-bgcolor="">NISS MONIQUE EN CHILE (+18)</h5>
              <!-- <p class="card-text">
                Some quick example text to build on the card title and make up
                the bulk of the card's content.
              </p> -->
              
              <!-- <p class="card-text"></p> -->
              <!-- <a href="show_ticket.html" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Ir a Comprar</a> -->
              <a href="show_ticket.html" class="btn btn-primary">Ir a Comprar</a>
            </div>
            <div class="card-footer">
              <small class="text-body-secondary"><a href="#" class="btn btn-warning" data-bs-toggle="modal" data-bs-target="#ModalManagerEvent" onclick="EventEdit('1')">editar</a>
                <a href="#" class="btn btn-danger" onclick="EventDelete('2')">eliminar</a></small>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card border-primary" style="width: 18rem">
            <span class="d-inline-block" tabindex="0" data-bs-sanitize="false" data-bs-html="true" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="<video src=&quot;../../../videos/videoIntro.mp4&quot; width=&quot;640&quot; height=&quot;480&quot;></video>">
              <img src="anillos.png" class="card-img-top" alt="..." height="300">
            </span>

            <div class="card-body">
              <h5 style="background-color: rgb(51, 39, 117); --darkreader-inline-bgcolor: #291f5e;" class="card-title" data-darkreader-inline-bgcolor="">NISS MONIQUE EN CHILE (+18)</h5>
              <!-- <p class="card-text">
                Some quick example text to build on the card title and make up
                the bulk of the card's content.
              </p> -->
              <p class="card-text">ESPACIO RIESGO - AV el Salto 5.000</p>
              <!-- <p class="card-text"></p> -->
              <!-- <a href="show_ticket.html" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Ir a Comprar</a> -->
              <a href="show_ticket.html" class="btn btn-primary">Ir a Comprar</a>
            </div>
            <div class="card-footer">
              <small class="text-body-secondary"><a href="#" class="btn btn-warning">editar</a>
                <a href="#" class="btn btn-danger">eliminar</a></small>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card border-primary" style="width: 18rem">
            <span class="d-inline-block" tabindex="0" data-bs-sanitize="false" data-bs-html="true" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="<video src=&quot;../../../videos/videoIntro.mp4&quot; width=&quot;640&quot; height=&quot;480&quot;></video>">
              <img src="anillos.png" class="card-img-top" alt="..." height="300">
            </span>

            <div class="card-body">
              <h5 style="background-color: rgb(51, 39, 117); --darkreader-inline-bgcolor: #291f5e;" class="card-title" data-darkreader-inline-bgcolor="">NISS MONIQUE EN CHILE (+18)</h5>
              <!-- <p class="card-text">
                Some quick example text to build on the card title and make up
                the bulk of the card's content.
              </p> -->
              <p class="card-text">ESPACIO RIESGO - AV el Salto 5.000</p>
              <!-- <p class="card-text"></p> -->
              <!-- <a href="show_ticket.html" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Ir a Comprar</a> -->
              <a href="show_ticket.html" class="btn btn-primary">Ir a Comprar</a>
            </div>
            <div class="card-footer">
              <small class="text-body-secondary"><a href="#" class="btn btn-warning">editar</a>
                <a href="#" class="btn btn-danger">eliminar</a></small>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card border-primary" style="width: 18rem">
            <span class="d-inline-block" tabindex="0" data-bs-sanitize="false" data-bs-html="true" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="<video src=&quot;../../../videos/videoIntro.mp4&quot; width=&quot;640&quot; height=&quot;480&quot;></video>">
              <img src="anillos.png" class="card-img-top" alt="..." height="300">
            </span>

            <div class="card-body">
              <h5 style="background-color: rgb(51, 39, 117); --darkreader-inline-bgcolor: #291f5e;" class="card-title" data-darkreader-inline-bgcolor="">NISS MONIQUE EN CHILE (+18)</h5>
              <!-- <p class="card-text">
                Some quick example text to build on the card title and make up
                the bulk of the card's content.
              </p> -->
              <p class="card-text">ESPACIO RIESGO - AV el Salto 5.000</p>
              <!-- <p class="card-text"></p> -->
              <!-- <a href="show_ticket.html" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Ir a Comprar</a> -->
              <a href="show_ticket.html" class="btn btn-primary">Ir a Comprar</a>
            </div>
            <div class="card-footer">
              <small class="text-body-secondary"><a href="#" class="btn btn-warning">editar</a>
                <a href="#" class="btn btn-danger">eliminar</a></small>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card border-primary" style="width: 18rem">
            <span class="d-inline-block" tabindex="0" data-bs-sanitize="false" data-bs-html="true" data-bs-toggle="popover" data-bs-trigger="hover focus" data-bs-content="<video src=&quot;../../../videos/videoIntro.mp4&quot; width=&quot;640&quot; height=&quot;480&quot;></video>">
              <img src="anillos.png" class="card-img-top" alt="..." height="300">
            </span>

            <div class="card-body">
              <h5 style="background-color: rgb(51, 39, 117); --darkreader-inline-bgcolor: #291f5e;" class="card-title" data-darkreader-inline-bgcolor="">NISS MONIQUE EN CHILE (+18)</h5>
              <!-- <p class="card-text">
                Some quick example text to build on the card title and make up
                the bulk of the card's content.
              </p> -->
              <p class="card-text">ESPACIO RIESGO - AV el Salto 5.000</p>
              <!-- <p class="card-text"></p> -->
              <!-- <a href="show_ticket.html" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">Ir a Comprar</a> -->
              <a href="show_ticket.html" class="btn btn-primary">Ir a Comprar</a>
            </div>
            <div class="card-footer">
              <small class="text-body-secondary"><a href="#" class="btn btn-warning">editar</a>
                <a href="#" class="btn btn-danger">eliminar</a></small>
            </div>
          </div>
        </div>




      </div>
    </div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centere modal-xl">
        <div class="modal-content">
          <div class="modal-header">
            <div>
              <h1 style="background-color: rgb(51, 39, 117); --darkreader-inline-bgcolor: #291f5e;" class="modal-title fs-5" id="exampleModalLabel" data-darkreader-inline-bgcolor="">NISS MONIQUE EN
                CHILE
                (+18)</h1>
              <!-- <br> -->
              <p style="color: rgb(204, 168, 6); --darkreader-inline-color: #f9d73f;" class="ms-5" data-darkreader-inline-color="">Sábado 15 de julio 2023 - 21:00 hrs.</p>
            </div>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <div class="card mb-3" style="max-width: 1100px;">
              <div class="row g-0">
                <div class="col-md-4">
                  <div class="card" style="width: 15rem;">
                    <div class="card-body">
                      <h5 class="card-title">ESPACIO RIESGO</h5>
                      <h6 class="card-subtitle mb-2 text-body-secondary">AV el Salto 5.000</h6>
                    </div>
                  </div>
                  <img src="anillos.png" class="img-fluid rounded-start" alt="...">
                  <div class="card" style="width: 16rem;">
                    <div class="card-body">
                      <h5 class="card-title">The Klan Totem Nomades</h5>

                      <p class="card-text">12 totems</p>
                      <p class="card-text">Solicitar mas información</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-8">
                  <div class="card-body">

                    <div class="card-body">
                      <table class="table table-dark table-borderless">
                        <thead>
                          <tr>
                            <th scope="col">Tipo de ticket</th>
                            <th scope="col">Valor</th>
                            <th style="width: 20px;" scope="col">Cantidad</th>
                          </tr>
                        </thead>
                        <tbody class="table-group-divider">
                          <tr>
                            <td>TICKET DE ESTACIONAMIENTO</td>
                            <td>$5000</td>
                            <td>

                              <button id="aumentar" onclick="carrito(this)" value="aumentar">+</button>
                              <p id="contador" value="">0</p>
                              <button id="disminuir" onclick="carrito(this)" value="disminuir">-</button>
                            </td>
                          </tr>
                          <tr>
                            <td>SEGUNDA PREVENTA</td>
                            <td>$30000</td>
                            <td>@fatjaovndnvojds</td>
                          </tr>
                          <tr>
                            <td>PREVENTA GENERAL</td>
                            <td>$35000</td>
                            <td>@fat</td>
                          </tr>
                          <tr>
                            <td>TICKET DIA DEL EVENTO</td>
                            <td>40000</td>
                            <td>@fat</td>
                          </tr>
                          <tr>
                            <td>EARLY BIRD</td>
                            <td>$22000</td>
                            <td>@fat</td>
                          </tr>
                          <tr>
                            <td>PRIMERA PREVENTA</td>
                            <td>$25000</td>
                            <td>@fat</td>
                          </tr>
                          <tr>
                            <td>TRCERA PREVENTA</td>
                            <td>$25000</td>
                            <td>@fat</td>
                          </tr>
                          <tr>
                            <td>VIP</td>
                            <td>$25000</td>
                            <td>@fat</td>
                          </tr>

                        </tbody>
                      </table>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Close
            </button>
            <button type="button" onclick="pp()" class="btn btn-primary">Save changes</button>
          </div> -->
        </div>
      </div>
    </div>
  </div>

  <footer>

  </footer>

  <!-- modal registrarse evento-->

  <div class="modal fade" id="ModalManagerEvent" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <div>
            <h1 style="background-color: #332775;" class="modal-title fs-5" id="mdltitulo">Registrar Nuevo Evento</h1>
          </div>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">

          <form action="" id="formManagerEvent">
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="id_event" name="id_event" placeholder="" hidden>
            </div>
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="event_name" name="event_name" placeholder="Mr Music" required>
              <label for="floatingInput">Nombre del evento</label>
            </div>
            <div class="form-floating mb-3">
              <input type="datetime-local" class="form-control" id="date_event" name="date_event" placeholder="Fecha" required>
              <label for="floatingInput">Fecha del evento</label>
            </div>
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="location" name="location" placeholder="lugar" required>
              <label for="floatingInput">lugar del evento</label>
            </div>
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="information" name="information" placeholder="Información" required>
              <label for="floatingPassword">Información del evento</label>
            </div>
            <div class="form-floating mb-3">
              <input type="text" class="form-control" id="spotify" name="spotify" placeholder="spotyfy" required>
              <label for="floatingPassword">spotify</label>
            </div>
            <div class="form-floating mb-3">
              <input type="number" class="form-control" id="number_tickets" name="number_tickets" placeholder="100" required>
              <label for="floatingPassword">Cantidad de boletos</label>
            </div>

          </form>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Cancelar
          </button>
          <button type="button" id="mdltextbuton" onclick="eventRegister()" class="btn btn-primary">
            Crear Evento
          </button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>


  <script>
    // const exampleEl = document.getElementById("example");
    // const popover = new bootstrap.Popover(exampleEl);

    const popoverTriggerList = document.querySelectorAll(
      '[data-bs-toggle="popover"]'
    );
    const popoverList = [...popoverTriggerList].map(
      (popoverTriggerEl) => new bootstrap.Popover(popoverTriggerEl)
    );

    var valor = 0;

    function carrito(boton) {
      var contador = document.getElementById("contador").value;
      if (boton.value == 'aumentar') {
        valor++
        document.getElementById("disminuir").removeAttribute('disabled', 'true');
      } else {
        valor--
        if (valor == 0) {
          document.getElementById("disminuir").setAttribute('disabled', 'true');
        }
      }
      document.getElementById("contador").textContent = valor;
    }

    function pp() {
      var datoFinal = valor;

      console.log(datoFinal);
    }



    // registrar y actualizareventos
    function eventRegister() {
      var formData = new FormData($("#formManagerEvent")[0]);

      var event_name = $('#event_name').val();
      var date_event = $('#date_event').val();
      var location = $('#location').val();
      var information = $('#information').val();
      var spotify = $('#spotify').val();
      var number_tickets = $('#number_tickets').val();
      var id = $('#id_event').val();
      var message = ['Evento registrado correctamente', 'Evento Editado correctamente'];

      // console.log('id: ' + id, 'event_name: ' + event_name, 'date_event: ' + date_event, 'location: ' + location, 'information: ' + information, 'spotify: ' + spotify, 'number_tickets: ' + number_tickets);
      if (event_name == '' || date_event == '' || location == '' || information == '' || spotify == '' || number_tickets == '') {
        Swal.fire(
          '',
          'Debes llenar todos los campos',
          'error'
        )
      } else {
        $.ajax({
          url: "../../controller/eventController.php?op=create_update",
          type: "POST",
          data: formData,
          contentType: false,
          processData: false,
          success: function(data) {

            // alert(data);
            console.log(data);
            if (data == 100) {
              Swal.fire(
                '',
                'Error al regiostrar, intenta de nuevo',
                'error'
              )
            } else {
              Swal.fire(
                '',
                id == '' ? message[0] : message[1],
                'success'
              )
              $('#formManagerEvent')[0].reset();
              $('#ModalManagerEvent').modal('hide');
            }
          }
        });
      }
    }

    // cargar datos para editar eventos
    function EventEdit(id) {

      $('#mdltitulo').html('Editando Evento');
      $('#mdltextbuton').html('Editar Evento');

      $.post("../../controller/eventController.php?op=edit", {
        id: id
      }, function(data) {
        data = JSON.parse(data);
        // console.log(data.id);
        $('#id_event').val(data.id);
        $('#event_name').val(data.event_name);
        $('#date_event').val(data.date_event);
        $('#location').val(data.location);
        $('#information').val(data.information);
        $('#spotify').val(data.spotify);
        $('#number_tickets').val(data.number_tickets);
      });
    }

    // eliminar eventos
    function EventDelete(id) {

      Swal.fire({
        title: '',
        text: "Esta seguro de Eliminar el evento?",
        icon: 'warning',
        showCancelButton: true,
        // confirmButtonColor: '#3085d6',
        confirmButtonText: "Si, eliminar",
        // cancelButtonColor: '#d33',
        cancelButtonText: "No"
      }).then((result) => {
        if (result.isConfirmed) {
          $.post("../../controller/eventController.php?op=delete", {
            id: id
          }, function(data) {
            Swal.fire(
              '',
              'Evento Eliminado correctamente',
              'success'
            )
          });
        }
      })
    }
  </script>

</body>

</html>